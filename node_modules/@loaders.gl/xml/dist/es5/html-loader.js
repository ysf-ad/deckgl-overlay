"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.HTMLLoader = void 0;
var _loaderUtils = require("@loaders.gl/loader-utils");
var _xmlLoader = require("./xml-loader");
const HTMLLoader = {
  ..._xmlLoader.XMLLoader,
  name: 'HTML',
  id: 'html',
  extensions: ['html', 'htm'],
  mimeTypes: ['text/html'],
  testText: testHTMLFile,
  parse: async (arrayBuffer, options) => parseTextSync(new TextDecoder().decode(arrayBuffer), options),
  parseTextSync: (text, options) => parseTextSync(text, options)
};
exports.HTMLLoader = HTMLLoader;
function testHTMLFile(text) {
  return text.startsWith('<html');
}
function parseTextSync(text, options) {
  options = (0, _loaderUtils.mergeLoaderOptions)(options, {
    xml: {
      parser: 'fast-xml-parser'
    },
    _fastXML: {
      htmlEntities: true
    }
  });
  return _xmlLoader.XMLLoader.parseTextSync(text, options);
}
//# sourceMappingURL=html-loader.js.map