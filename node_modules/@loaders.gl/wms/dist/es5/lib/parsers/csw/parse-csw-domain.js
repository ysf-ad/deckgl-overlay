"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseCSWDomain = parseCSWDomain;
var _xml = require("@loaders.gl/xml");
var _parseExceptionReport = require("./parse-exception-report");
function parseCSWDomain(text, options) {
  const parsedXML = _xml.XMLLoader.parseTextSync(text, {
    ...options,
    xml: {
      ...(options === null || options === void 0 ? void 0 : options.xml),
      removeNSPrefix: true,
      uncapitalizeKeys: true,
      arrayPaths: ['GetDomainResponse.DomainValues', 'GetDomainResponse.DomainValues.ListOfValues.value']
    }
  });
  (0, _parseExceptionReport.parseExceptionReport)(parsedXML);
  const xmlDomain = parsedXML.getDomainResponse;
  for (const domainValue of xmlDomain.domainValues) {
    var _domainValue$listOfVa;
    domainValue.values = (_domainValue$listOfVa = domainValue.listOfValues) === null || _domainValue$listOfVa === void 0 ? void 0 : _domainValue$listOfVa.value;
    delete domainValue.listOfValues;
  }
  return xmlDomain;
}
//# sourceMappingURL=parse-csw-domain.js.map